---
title: "Create Webhook"
api: "POST https://server.smartlead.ai/api/v1/webhook/create"
description: "Create webhook to receive real-time notifications for campaign events like opens, clicks, and replies"
---

<Note>
Webhooks allow you to receive real-time HTTP POST notifications when specific events occur in your campaigns. Configure webhooks at user, client, or campaign level.
</Note>

## Query Parameters

<ParamField query="api_key" type="string" required>
  Your SmartLead API key
</ParamField>

## Request Body

<ParamField body="webhook_url" type="string" required>
  The URL where webhook notifications will be sent via HTTP POST
</ParamField>

<ParamField body="association_type" type="number" required>
  Scope of the webhook. Valid values:
  - `1` - User level (all campaigns)
  - `2` - Client level (all campaigns for a client)
  - `3` - Campaign level (single campaign)
</ParamField>

<ParamField body="email_campaign_id" type="number">
  Campaign ID (required when association_type=3)
</ParamField>

<ParamField body="name" type="string">
  Webhook name for identification
</ParamField>

<ParamField body="event_type_map" type="object">
  Map of events to subscribe to. Common events:
  - `SENT` - Email sent
  - `OPENED` - Email opened
  - `CLICKED` - Link clicked
  - `REPLIED` - Lead replied
  - `BOUNCED` - Email bounced
  - `UNSUBSCRIBED` - Lead unsubscribed
</ParamField>

<ParamField body="category_id_map" type="object">
  Map of category IDs to filter events by lead category
</ParamField>

<ParamField body="client_id" type="number">
  Client ID (required when association_type=2)
</ParamField>

<ParamField body="webhook_type" type="string">
  Webhook type identifier
</ParamField>

<ParamField body="force_create" type="boolean" default="false">
  Force creation even if a similar webhook exists
</ParamField>

<RequestExample>

```bash cURL
curl -X POST "https://server.smartlead.ai/api/v1/webhook/create?api_key=YOUR_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Reply Notifications",
    "webhook_url": "https://your-domain.com/webhook",
    "email_campaign_id": 123,
    "association_type": 3,
    "event_type_map": {
      "REPLIED": true,
      "OPENED": true
    }
  }'
```

```python Python
import requests

API_KEY = "YOUR_API_KEY"

payload = {
    "name": "Reply Notifications",
    "webhook_url": "https://your-domain.com/webhook",
    "email_campaign_id": 123,
    "association_type": 3,
    "event_type_map": {
        "REPLIED": True,
        "OPENED": True
    }
}

response = requests.post(
    "https://server.smartlead.ai/api/v1/webhook/create",
    params={"api_key": API_KEY},
    json=payload
)

result = response.json()
print(f"Webhook created with ID: {result['id']}")
```

```javascript JavaScript
const API_KEY = 'YOUR_API_KEY';

const payload = {
  name: 'Reply Notifications',
  webhook_url: 'https://your-domain.com/webhook',
  email_campaign_id: 123,
  association_type: 3,
  event_type_map: {
    REPLIED: true,
    OPENED: true
  }
};

const response = await fetch(
  `https://server.smartlead.ai/api/v1/webhook/create?api_key=${API_KEY}`,
  {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  }
);

const result = await response.json();
console.log(`Webhook created with ID: ${result.id}`);
```

</RequestExample>



## Webhook Payload

When an event occurs, SmartLead sends a POST request to your webhook_url with this structure:

```json
{
  "event_type": "REPLIED",
  "campaign_id": 123,
  "lead_email": "john@example.com",
  "lead_first_name": "John",
  "lead_last_name": "Doe",
  "email_account": "sender@yourdomain.com",
  "subject": "Re: Quick question",
  "message": "Thanks for reaching out...",
  "timestamp": "2025-11-26T10:30:00Z",
  "category_id": 5
}
```

## Association Types

<AccordionGroup>
<Accordion title="User Level (1)">
  Receives events from all campaigns owned by the user. Use when you want centralized notifications.
</Accordion>

<Accordion title="Client Level (2)">
  Receives events from all campaigns for a specific client. Useful for agency/white-label setups.
</Accordion>

<Accordion title="Campaign Level (3)">
  Receives events only from a specific campaign. Most common use case for per-campaign tracking.
</Accordion>
</AccordionGroup>

## Response Codes

<ResponseField name="200" type="Success">
  Webhook created successfully
</ResponseField>

<ResponseField name="401" type="Unauthorized">
  Invalid or missing API key
</ResponseField>

<ResponseField name="422" type="Validation Error">
  Missing required fields or invalid association_type
</ResponseField>

<ResponseField name="500" type="Internal Server Error">
  Server error occurred
</ResponseField>

<ResponseExample>

```json 200 - Success
{
  "ok": true,
  "id": 456,
  "webhook_url": "https://your-domain.com/webhook"
}
```

```json 401 - Unauthorized
{
  "message": "Invalid API Key"
}
```

```json 422 - Validation Error
{
  "error": "webhook_url is required"
}
```

</ResponseExample>

## Related Endpoints

- [Get Webhook](/api-reference/webhooks/get)
- [Update Webhook](/api-reference/webhooks/update)
- [Delete Webhook](/api-reference/webhooks/delete)
- [Webhook Events](/api-reference/webhooks/events)
